Absolute Move XYZ

Расширение для SketchUp, позволяющее позиционировать группы и компоненты в абсолютных координатах проекта по осям X, Y и Z с выбором опорной точки (Min / Center / Max) для каждой оси.

Поддерживает:
Абсолютные координаты модели
Независимую работу по каждой оси
Выбор reference-точки (Bounding Box)
Игнорирование оси при пустом поле
Toolbar + меню
Одно действие Undo

Возможности
Абсолютное позиционирование
Перемещение происходит в мировых координатах модели (Global Coordinate System).
Выбор опорной точки
Для каждой оси можно выбрать:

X
Min (левый край bounds)
Center
Max (правый край bounds)

Y
Min
Center
Max

Z
Min (нижняя точка)
Center
Max (верхняя точка)
Игнорирование оси

Если поле координаты пустое — ось не участвует в расчёте.

Сохранение трансформации

Плагин:
не сбрасывает rotation
не сбрасывает scale
не затирает матрицу трансформации
Используется корректное смещение через Geom::Transformation.translation.

Структура проекта
AbsoluteMoveXYZ/
│
├── absolute_move_xyz.rb
└── AbsoluteMoveXYZ/
    ├── core.rb
    └── icons/
        ├── icon_16.png
        └── icon_24.png
Требования
SketchUp 2017+
Поддержка UI::HtmlDialog
Windows / macOS

Установка
Способ 1 (Рекомендуемый) — через .rbz
Заархивировать папку AbsoluteMoveXYZ в ZIP.
Переименовать архив в:
AbsoluteMoveXYZ.rbz
Открыть SketchUp.
Перейти:
Extensions → Extension Manager
Нажать:
Install Extension
Выбрать файл .rbz.
После перезапуска появится toolbar.
Способ 2 — Ручная установка
Скопировать:
absolute_move_xyz.rb
AbsoluteMoveXYZ/
В папку Plugins:
Windows
C:\Users\USERNAME\AppData\Roaming\SketchUp\SketchUp 20XX\SketchUp\Plugins
macOS
~/Library/Application Support/SketchUp 20XX/SketchUp/Plugins
Перезапустить SketchUp.

Использование
Выделить группу или компонент.
Нажать кнопку в Toolbar
или:
Extensions → Absolute Move XYZ

В открывшемся окне:
Ввести абсолютные координаты X, Y, Z
Выбрать reference-точку для каждой оси
Нажать Apply
Формат ввода координат

Можно вводить:
3000
3000mm
3m
120"
10cm

Значения автоматически интерпретируются с учётом единиц модели.

Примеры использования
Поднять объект так, чтобы его нижняя точка была на высоте 3000 мм

Z = 3000
Z Mode = Min
X, Y оставить пустыми

Выставить центр объекта в X = 0

X = 0
X Mode = Center

Поставить верхнюю грань на уровень перекрытия
Z = 4500
Z Mode = Max

Ограничения
Bounding Box выровнен по мировым осям

Если объект повернут:

Min / Max считаются по AABB
Это не реальные геометрические грани
Работает только с:
Group
ComponentInstance
Не работает с:
Raw geometry (edges, faces)
Locked объекты
Игнорируются.
Локальные оси

Плагин работает в мировой системе координат, не в локальной системе объекта.

Undo
Все действия выполняются в рамках одной операции Undo.

Архитектура
Extension Loader
Модульная структура
UI через HtmlDialog
Трансформации через translation (без перезаписи матрицы)
Toolbar + меню
Возможные расширения
Потенциальные улучшения:
Работа в локальных осях объекта
Поддержка пользовательской системы координат
Выравнивание нескольких объектов
Snap к осевым направляющим
Сохранение настроек
Поддержка активного контекста (inside group)

Версия

v2.0.0
